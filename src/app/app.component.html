<mdl-layout
  [mdl-layout-fixed-drawer]="loggedIn ? true : null"
  #mainLayout="mdlLayout"
  mdl-layout-no-drawer-button
>
  <mdl-layout-drawer
    *ngIf="loggedIn"
    class="mdl-color--grey-50 flex-container"
    [attr.style]="drawerStyles"
    [class.drawer-open]="isDrawerOpen"
  >
    <md-icon
      (click)="toggleDrawer()"
      class="hide-button"
    >
      keyboard_arrow_left
    </md-icon>
    <mdl-layout-title>
      <img class="logo" [src]="logoSource">
      <div class="title-header">
        <md-icon class="link-element">person</md-icon>
        <div class="link-element">{{ 'WELCOME' | translate:{ name: title } }}</div>
      </div>
    </mdl-layout-title>
    <nav #navigationBar class="mdl-navigation">
      <a
        (click)="linkClick('/instances')"
        class="mdl-navigation__link link-container"
        routerLink="/instances"
        [class.link-hover-light]="isLightTheme"
        [class.link-hover-dark]="!isLightTheme"
        [routerLinkActive]="linkActiveStyle"
      >
        <md-icon class="link-element">cloud</md-icon>
        <div class="link-element" [innerHTML]="'VM_NAVBAR' | translate"></div>
      </a>

      <a
        (click)="linkClick('/spare-drives')"
        class="mdl-navigation__link link-container"
        routerLink="/spare-drives"
        [class.link-hover-light]="isLightTheme"
        [class.link-hover-dark]="!isLightTheme"
        [routerLinkActive]="linkActiveStyle"
      >
        <md-icon class="link-element">dns</md-icon>
        <div class="link-element" [innerHTML]="'SPARE_DRIVES_NAVBAR' | translate"></div>
      </a>

      <a
        (click)="linkClick('/templates')"
        class="mdl-navigation__link link-container"
        routerLink="/templates"
        [class.link-hover-light]="isLightTheme"
        [class.link-hover-dark]="!isLightTheme"
        [routerLinkActive]="linkActiveStyle"
      >
        <span class="link-element disc-icon" style="margin-right: 10px"></span>
        <div class="link-element" [innerHTML]="'IMAGES' | translate"></div>
      </a>

      <a
        (click)="linkClick('/sg-templates')"
        *ngIf="!disableSecurityGroups"
        class="mdl-navigation__link link-container"
        routerLink="/sg-templates"
        [class.link-hover-light]="isLightTheme"
        [class.link-hover-dark]="!isLightTheme"
        [routerLinkActive]="linkActiveStyle"
      >
        <md-icon class="link-element">security</md-icon>
        <div class="link-element" [innerHTML]="'FIREWALL' | translate"></div>
      </a>

      <a
        (click)="linkClick('/events')"
        class="mdl-navigation__link link-container"
        routerLink="/events"
        [class.link-hover-light]="isLightTheme"
        [class.link-hover-dark]="!isLightTheme"
        [routerLinkActive]="linkActiveStyle"
      >
        <md-icon>event_note</md-icon>
        <div class="link-element" [innerHTML]="'ACTIVITY_LOG' | translate"></div>
      </a>

      <a
        (click)="linkClick('/ssh-keys')"
        class="mdl-navigation__link link-container"
        routerLink="/ssh-keys"
        [class.link-hover-light]="isLightTheme"
        [class.link-hover-dark]="!isLightTheme"
        [routerLinkActive]="linkActiveStyle"
      >
        <md-icon>vpn_key</md-icon>
        <div class="link-element" [innerHTML]="'SSH_KEYS' | translate"></div>
      </a>

      <a
        (click)="linkClick('/settings')"
        class="mdl-navigation__link link-container"
        routerLink="/settings"
        [class.link-hover-light]="isLightTheme"
        [class.link-hover-dark]="!isLightTheme"
        [routerLinkActive]="linkActiveStyle"
      >
        <md-icon>settings</md-icon>
        <div class="link-element" [innerHTML]="'SETTINGS' | translate"></div>
      </a>

      <a
        class="mdl-navigation__link link-container"
        routerLink="/logout"
        [class.link-hover-light]="isLightTheme"
        [class.link-hover-dark]="!isLightTheme"
        [routerLinkActive]="linkActiveStyle"
      >
        <md-icon>exit_to_app</md-icon>
        <div class="link-element" [innerHTML]="'LOGOUT' | translate"></div>
      </a>
    </nav>

    <div class="license-container">
      <div class="license">
        {{ 'LICENSE_1' | translate: { year: currentYear } }}
        <a href="https://bitworks.software/" target="_blank">{{ 'LICENSE_2' | translate }}</a>
        <br>
        {{ 'LICENSE_3' | translate }}
      </div>
    </div>

  </mdl-layout-drawer>
  <mdl-layout-content
    class="mdl-color--grey-100"
    [class.content-margin]="isDrawerOpen && loggedIn"
  >
    <router-outlet></router-outlet>
  </mdl-layout-content>
</mdl-layout>
