<h3 class="mat-dialog-title">
  {{ 'SERVICE_OFFERING.CHOOSE_SERVICE_OFFERING' | translate }}
</h3>
<div *loading="loading">
  <div class="mat-dialog-content" *loading="!serviceOfferings">
    <cs-service-offering-filter
      [classes]="classes"
      [viewMode]="viewMode"
      [groupings]="groupings"
      (groupingsChange)="groupingsChange.emit($event)"
      (viewModeChange)="viewModeChange.emit($event)"
      (selectedClassesChange)="selectedClassesChange.emit($event)"
      (queryChange)="queryChange.emit($event)"
    ></cs-service-offering-filter>
    <cs-service-offering-list
      [classes]="classes"
      [query]="query"
      [classTags]="classTags"
      [offeringList]="serviceOfferings"
      [customOfferingRestrictions]="restrictions"
      [defaultParams]="defaultParams"
      [selectedOffering]="serviceOffering"
      (selectedOfferingChange)="updateOffering($event)"
    ></cs-service-offering-list>

    <!--cs-service-offering-selector
      *ngIf="serviceOfferings?.length"
      class="service-offering-selector"
      [serviceOfferings]="serviceOfferings"
      [customOfferingRestrictions]="restrictions"
      [ngModel]="serviceOffering"
      (change)="updateOffering($event)"
    ></cs-service-offering-selector>
    <div
      *ngIf="!serviceOfferings?.length"
    >{{ "SERVICE_OFFERING.NO_AVAILABLE_OFFERINGS" | translate }}
    </div-->

    <div
      class="message warning"
      *ngIf="!formMode && serviceOfferings?.length && serviceOffering && serviceOffering.id !== serviceOfferingId"
    >{{ "SERVICE_OFFERING.VM_WILL_BE_REBOOTED" | translate }}
    </div>
  </div>
  <div class="mat-dialog-actions">
    <button mat-button color="primary" matDialogClose>
      {{ 'COMMON.CANCEL' | translate }}
    </button>
    <button
      *ngIf="serviceOfferings?.length"
      mat-button
      color="primary"
      [disabled]="serviceOffering?.id === serviceOfferingId"
      (click)="onChange()"
    >
      {{ (formMode ? 'COMMON.SELECT' : 'COMMON.CHANGE') | translate }}
    </button>
  </div>
</div>
