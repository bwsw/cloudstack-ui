<h3 class="mat-dialog-title">{{ 'SERVICE_OFFERING.CUSTOM_SERVICE_OFFERING.TITLE' |
  translate }}</h3>
<form (ngSubmit)="onSubmit()" #customOfferingForm="ngForm" novalidate>
  <div class="mat-dialog-content">
    <h5>{{ 'SERVICE_OFFERING.CUSTOM_SERVICE_OFFERING.CPU_NUMBER' | translate }}</h5>
    <mat-form-field *ngIf="offering && restrictions" class="full-width-input">
      <input
        matInput
        name="cpuNumber"
        type="number"
        [ngModel]="offering.cpunumber"
        (ngModelChange)="setMax('cpunumber',$event)"
        [min]="restrictions.cpunumber.min"
        [max]="restrictions.cpunumber.max"
        [minValue]="restrictions.cpunumber.min"
        [maxValue]="restrictions.cpunumber.max"
        step="1"
        required
        #cpuNumberControl="ngModel"
      >
      <mat-error>
        {{ errorMessage(restrictions.cpunumber.min, restrictions.cpunumber.max) | async }}
      </mat-error>
    </mat-form-field>

    <h5>{{ 'SERVICE_OFFERING.CUSTOM_SERVICE_OFFERING.CPU_SPEED' | translate }}</h5>
    <mat-form-field *ngIf="offering && restrictions" class="full-width-input">
      <input
        matInput
        name="cpuSpeed"
        type="number"
        [ngModel]="offering.cpuspeed"
        (ngModelChange)="setMax('cpuspeed', $event)"
        [min]="restrictions.cpuspeed.min"
        [max]="restrictions.cpuspeed.max"
        [minValue]="restrictions.cpuspeed.min"
        [maxValue]="restrictions.cpuspeed.max"
        step="1"
        required
        #cpuSpeedControl="ngModel"
      >
      <mat-error>
        {{ errorMessage(restrictions.cpuspeed.min, restrictions.cpuspeed.max) | async }}
      </mat-error>
    </mat-form-field>

    <h5>{{ 'SERVICE_OFFERING.CUSTOM_SERVICE_OFFERING.MEMORY' | translate }}</h5>
    <mat-form-field *ngIf="offering && restrictions" class="full-width-input">
      <input
        matInput
        name="memory"
        type="number"
        [ngModel]="offering.memory"
        (ngModelChange)="setMax('memory', $event)"
        [min]="restrictions.memory.min"
        [max]="restrictions.memory.max"
        [minValue]="restrictions.memory.min"
        [maxValue]="restrictions.memory.max"
        step="1"
        required
        #memoryControl="ngModel"
      >
      <mat-error>
        {{ errorMessage(restrictions.memory.min, restrictions.memory.max) | async }}
      </mat-error>
    </mat-form-field>
  </div>
  <div class="mat-dialog-actions">
    <button
      mat-button
      color="primary"
      matDialogClose
      type="button"
    >
      {{ 'COMMON.CANCEL' | translate }}
    </button>
    <button
      mat-button
      color="primary"
      type="submit"
      [disabled]="!customOfferingForm.valid"
    >
      {{ 'COMMON.CONFIRM' | translate }}
    </button>
  </div>
</form>
