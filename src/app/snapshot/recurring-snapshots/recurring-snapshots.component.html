<h3 class="mat-dialog-title">
  {{ 'SNAPSHOT_POLICIES.TITLE' | translate }}
</h3>
<div class="mat-dialog-content">
  <div *ngIf="policies?.length" class="list">
    <cs-policy-list
      [timeFormat]="timeFormat$ | async"
      [policies]="policies"
      (policyDeleted)="deletePolicy($event)"
      (policyRowClicked)="changeTab($event)"
    ></cs-policy-list>
  </div>
  <div *ngIf="!policies?.length" class="list">{{ 'SNAPSHOT_POLICIES.NO_RESULTS' | translate }}</div>

  <mat-tab-group [selectedIndex]="policyMode" (selectedTabChange)="tabChanged($event)">
    <mat-tab label="{{ 'SNAPSHOT_POLICIES.HOURLY' | translate }}">
      <div class="editor">
        <cs-policy-editor
          [timeFormat]="timeFormat$ | async"
          [policyMode]="policyMode"
          (policySaved)="addPolicy($event)"
        ></cs-policy-editor>
      </div>
    </mat-tab>
    <mat-tab label="{{ 'SNAPSHOT_POLICIES.DAILY' | translate }}">
      <div class="editor">
        <cs-policy-editor
          [timeFormat]="timeFormat$ | async"
          [policyMode]="policyMode"
          (policySaved)="addPolicy($event)"
        ></cs-policy-editor>
      </div>
    </mat-tab>
    <mat-tab label="{{ 'SNAPSHOT_POLICIES.WEEKLY' | translate }}">
      <div class="editor">
        <cs-policy-editor
          [timeFormat]="timeFormat$ | async"
          [policyMode]="policyMode"
          (policySaved)="addPolicy($event)"
        ></cs-policy-editor>
      </div>
    </mat-tab>
    <mat-tab label="{{ 'SNAPSHOT_POLICIES.MONTHLY' | translate }}">
      <div class="editor">
        <cs-policy-editor
          [timeFormat]="timeFormat$ | async"
          [policyMode]="policyMode"
          (policySaved)="addPolicy($event)"
        ></cs-policy-editor>
      </div>
    </mat-tab>
  </mat-tab-group>

  <div class="mat-dialog-actions">
    <button mat-button color="primary" matDialogClose>
      {{ 'COMMON.CLOSE' | translate }}
    </button>
  </div>
</div>
