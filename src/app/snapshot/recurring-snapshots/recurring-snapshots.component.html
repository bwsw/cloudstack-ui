<h3 class="mat-dialog-title">
  {{ 'RECURRING_SNAPSHOTS' | translate }}
</h3>
<div class="mat-dialog-content">

  <md-tab-group
    md-selected="policyMode"
    (selectChange)="tabChanged($event)"
  >
    <md-tab label="{{ 'RECURRING_SNAPSHOTS_HOURLY' | translate }}"></md-tab>
    <md-tab label="{{ 'RECURRING_SNAPSHOTS_DAILY' | translate }}"></md-tab>
    <md-tab label="{{ 'RECURRING_SNAPSHOTS_WEEKLY' | translate }}"></md-tab>
    <md-tab label="{{ 'RECURRING_SNAPSHOTS_MONTHLY' | translate }}"></md-tab>
  </md-tab-group>

  <div class="editor">
    <cs-policy-editor
      [timeFormat]="timeFormat$ | async"
      [policyMode]="policyMode"
      (onPolicySave)="addPolicy($event)"
    ></cs-policy-editor>
  </div>

  <div
    *ngIf="policies?.length"
    class="list"
  >
    <cs-policy-list
      [timeFormat]="timeFormat$ | async"
      [policies]="policies"
      (onPolicyDelete)="deletePolicy($event)"
      (onPolicyRowClick)="changeTab($event)"
    ></cs-policy-list>
  </div>

</div>
<div class="mat-dialog-actions">
  <button
    mdl-button
    mdl-colored="primary"
    (click)="onClose()"
  >
    {{ 'CLOSE' | translate }}
  </button>
</div>
