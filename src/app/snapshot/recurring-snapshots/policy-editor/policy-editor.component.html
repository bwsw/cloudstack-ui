<form
  (ngSubmit)="save()"
  #policyEditorForm="ngForm"
  novalidate
>
  <div [ngSwitch]="policyMode">
    <cs-input-type-number
      *ngSwitchCase="Policies.Hourly"
      [name]="'hourlyPolicy'"
      [(value)]="policy"
      [step]="1"
      [min]="0"
      [max]="59"
      [validators]="hourlyValidators"
      [validatorMessages]="hourlyValidatorMessages"
      [placeholder]="'SNAPSHOT_POLICIES.MINUTE' | translate">
    </cs-input-type-number>

    <cs-daily-policy
      name="dailyPolicy"
      *ngSwitchCase="Policies.Daily"
      [(ngModel)]="policy"
      [timeFormat]="timeFormat"
    ></cs-daily-policy>

    <cs-weekly-policy
      name="weeklyPolicy"
      *ngSwitchCase="Policies.Weekly"
      [(ngModel)]="policy"
      [timeFormat]="timeFormat"
    ></cs-weekly-policy>

    <cs-monthly-policy
      name="monthlyPolicy"
      *ngSwitchCase="Policies.Monthly"
      [(ngModel)]="policy"
      [timeFormat]="timeFormat"
    ></cs-monthly-policy>
  </div>

  <div class="flex-container">
    <cs-time-zone class="column"
      name="timeZone"
      [(ngModel)]="timeZone"
    ></cs-time-zone>
    <div class="column">

      <cs-input-type-number
        [name]="'storedNumber'"
        [(value)]="storedSnapshots"
        [step]="1"
        [min]="minStoredSnapshots"
        [max]="maxStoredSnapshots"
        [validators]="storedValidators"
        [validatorMessages]="storedValidatorMessages"
        [placeholder]="'SNAPSHOT_POLICIES.STORE_SNAPSHOTS' | translate">
      </cs-input-type-number>

      <div class="button-wrapper">
        <button
          mat-icon-button
          [disabled]="!policyEditorForm.valid"
        >
          <mat-icon class="mdi-plus"></mat-icon>
        </button>
      </div>
    </div>
  </div>
</form>
