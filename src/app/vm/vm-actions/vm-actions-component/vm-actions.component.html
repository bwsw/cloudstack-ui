<ng-container *ngIf="!vmIsDestroyed">
  <ng-container *ngFor="let action of vmActions">
    <button
      mat-menu-item
      [disabled]="!action.canActivate(vm)"
      (click)="onAction(action, vm)"
    >
      <mat-icon>{{ action.icon }}</mat-icon>
      <span>{{ action.name | translate }}</span>
    </button>
  </ng-container>
  <ng-container>
    <button
      mat-menu-item
      [disabled]="!accessVmAction.canActivate(vm)"
      (click)="accessVmAction.activate(vm)"
    >
      <mat-icon>{{ accessVmAction.icon }}</mat-icon>
      <span>{{ accessVmAction.name | translate }}</span>
    </button>
  </ng-container>
  <ng-container>
    <button
      mat-menu-item
      [disabled]="!vmPulseAction.canActivate(vm)"
      (click)="vmPulseAction.activate(vm)"
    >
      <mat-icon>{{ vmPulseAction.icon }}</mat-icon>
      <span>{{ vmPulseAction.name | translate }}</span>
    </button>
  </ng-container>
</ng-container>
<ng-container *ngIf="vmIsDestroyed && canExpungeOrRecoverVm">
  <ng-container *ngFor="let action of destroyedVmActions">
    <button
      mat-menu-item
      [disabled]="!action.canActivate(vm)"
      (click)="onAction(action, vm)"
    >
      <mat-icon>{{ action.icon }}</mat-icon>
      <span>{{ action.name | translate }}</span>
    </button>
  </ng-container>
</ng-container>
