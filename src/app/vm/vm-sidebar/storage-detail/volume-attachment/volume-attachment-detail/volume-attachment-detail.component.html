<md-card class="card">
  <md-card-header>
    <md-card-title>
      <h2 class="md-card-title-text">
        {{ 'VM_PAGE.STORAGE_DETAILS.SPARE_DRIVE_ATTACHMENT.ATTACH_VOLUME' | translate }}
      </h2>
    </md-card-title>
  </md-card-header>
  <md-card-content [class.md-card-content-with-actions]="selectedVolume || !selectedVolume && volumes?.length">
    <div class="md-card-content-container">
      <ng-container *ngIf="volumes?.length">
        <ng-container *ngIf="!selectedVolume">
          {{ 'VM_PAGE.STORAGE_DETAILS.SPARE_DRIVE_ATTACHMENT.SELECT_VOLUME' | translate }}
        </ng-container>
        <ng-container *ngIf="selectedVolume">
          {{ selectedVolume.name }}
        </ng-container>
      </ng-container>
      <ng-container *ngIf="!volumes?.length">
        {{ 'VM_PAGE.STORAGE_DETAILS.SPARE_DRIVE_ATTACHMENT.NO_AVAILABLE_VOLUMES_1' | translate }}<a routerLink="/storage/create">{{
        'VM_PAGE.STORAGE_DETAILS.SPARE_DRIVE_ATTACHMENT.NO_AVAILABLE_VOLUMES_2' | translate }}</a>
        {{ 'VM_PAGE.STORAGE_DETAILS.SPARE_DRIVE_ATTACHMENT.NO_AVAILABLE_VOLUMES_3' | translate }}
      </ng-container>
    </div>
    <md-card-actions *ngIf="selectedVolume">
      <button
        *ngIf="!loading"
        md-icon-button
        [mdTooltip]="'VM_PAGE.STORAGE_DETAILS.SPARE_DRIVE_ATTACHMENT.ATTACH' | translate"
        mdTooltipPosition="above"
        (click)="$event.stopPropagation(); attachVolume()"
      >
        <md-icon>attach_file</md-icon>
      </button>
      <button
        *ngIf="loading"
        md-icon-button
        disabled
      >
        <md-icon>attach_file</md-icon>
      </button>
    </md-card-actions>
    <md-card-actions *ngIf="!selectedVolume && volumes?.length">
      <button
        md-icon-button
        [mdTooltip]="'COMMON.SELECT' | translate"
        mdTooltipPosition="above"
        (click)="$event.stopPropagation(); showDialog()"
      >
        <md-icon>add</md-icon>
      </button>
    </md-card-actions>
  </md-card-content>
</md-card>
